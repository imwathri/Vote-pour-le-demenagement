<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>La Boîte Mystère de Imadha & Nourishtou 💌</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Comic Sans MS', cursive;
      background: linear-gradient(135deg, #ffe1ff, #d5faff);
      text-align: center;
      overflow-x: hidden;
    }

    h1 {
      margin-top: 40px;
      font-size: 2.5em;
      color: #ef5eff;
    }

    .question-container, .paquet, #choixFinal {
      margin-top: 40px;
    }

    .question {
      font-size: 1.5em;
      margin-bottom: 15px;
    }

    .btn {
      padding: 12px 25px;
      margin: 10px;
      font-size: 1em;
      border: none;
      background-color: #ff77cc;
      color: white;
      border-radius: 12px;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #ffaad5;
    }

    .hidden {
      display: none;
    }

    .falling-heart, .framboise, .fleur {
      position: fixed;
      top: -50px;
      animation: fall linear forwards;
      font-size: 24px;
      z-index: 9999;
    }

    @keyframes fall {
      0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }

    .paquet-img {
      width: 100px;
      cursor: pointer;
      transition: transform 0.4s ease;
    }

    .paquet-img:hover {
      transform: scale(1.1);
    }

    audio {
      display: none;
    }

    #choixTexte {
      font-size: 1.8em;
      margin-top: 30px;
      color: #ff33aa;
    }

    .badge {
      margin-top: 60px;
      padding: 15px;
      border-radius: 12px;
      background: #f7d1ff;
      width: fit-content;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 0 10px #ff99f7;
      font-weight: bold;
      font-size: 1.2em;
      color: #8a2be2;
    }
  </style>
</head>
<body>

  <h1>🎁 La Boîte Mystère de Imadha & Nourishtou 💘</h1>

  <div id="questionnaire" class="question-container">
    <div id="question1" class="question">
      Question 1 : Ha tenssay wch djowezna f snap wela lala ?
      <br>
      <button class="btn" onclick="nextQuestion('question1')">OUIIII</button>
      <button class="btn" onclick="nextQuestion('question1')">NON</button>
    </div>

    <div id="question2" class="question hidden">
      Question 2 : win b3atna bzf les bisous ?
      <br>
      <button class="btn" onclick="nextQuestion('question2')">Wathsap</button>
      <button class="btn" onclick="nextQuestion('question2')">Telegram</button>
    </div>

    <div id="question3" class="question hidden">
      Dernière question : Es-tu prêt.e à déménager dans notre nouveau chez nous ? 💖
      <br>
      <button class="btn" onclick="startDraw()">Oui, allons-y 🎀</button>
    </div>
  </div>

  <div class="paquet hidden" id="paquetZone">
    <p>Choisis l’un des 6 paquets mystères 🎁✨</p>
    <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 20px;">
      <img src="https://cdn-icons-png.flaticon.com/512/4202/4202840.png" class="paquet-img" onclick="choisirPaquet(0)">
      <img src="https://cdn-icons-png.flaticon.com/512/4202/4202840.png" class="paquet-img" onclick="choisirPaquet(1)">
      <img src="https://cdn-icons-png.flaticon.com/512/4202/4202840.png" class="paquet-img" onclick="choisirPaquet(2)">
      <img src="https://cdn-icons-png.flaticon.com/512/4202/4202840.png" class="paquet-img" onclick="choisirPaquet(3)">
      <img src="https://cdn-icons-png.flaticon.com/512/4202/4202840.png" class="paquet-img" onclick="choisirPaquet(4)">
      <img src="https://cdn-icons-png.flaticon.com/512/4202/4202840.png" class="paquet-img" onclick="choisirPaquet(5)">
    </div>
    <audio id="roueAudio" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3" preload="auto"></audio>
  </div>

  <div id="choixFinal" class="hidden">
    <p id="choixTexte"></p>
    <div class="badge">
      ⭐ Site validé par <strong>Imadha</strong> & <strong>Nourishtou</strong> 💘<br>
      🔐 Engagement éternel jusqu’au prochain déménagement inchallah 😎
    </div>
  </div>

  <script>
    const apps = ["Messenger", "Messenger", "Messenger", "Instagram", "Telegram", "WhatsApp"];
    const coeur = ["💖", "💕", "💘"];
    const framboises = ["🍓"];
    const fleurs = ["🌼", "🌸", "🌺", "🌷"];

    const boutonAudio = document.getElementById("roueAudio");

    function nextQuestion(current) {
      makeItRain("heart");
      makeItRain("framboise");
      document.getElementById(current).classList.add("hidden");
      if (current === "question1") document.getElementById("question2").classList.remove("hidden");
      if (current === "question2") document.getElementById("question3").classList.remove("hidden");
    }

    function startDraw() {
      makeItRain("fleur");
      document.getElementById("questionnaire").classList.add("hidden");
      document.getElementById("paquetZone").classList.remove("hidden");
      boutonAudio.play();
    }

    function choisirPaquet(index) {
      boutonAudio.pause();
      boutonAudio.currentTime = 0;

      const vraiChoix = apps[Math.floor(Math.random() * apps.length)];

      const images = document.querySelectorAll('.paquet-img');
      images.forEach((img, i) => {
        img.style.opacity = i === index ? '1' : '0.3';
        img.style.pointerEvents = 'none';
        if (i === index) img.style.transform = 'scale(1.3)';
      });

      setTimeout(() => {
        document.getElementById("paquetZone").classList.add("hidden");
        document.getElementById("choixFinal").classList.remove("hidden");

        document.getElementById("choixTexte").innerHTML = `
          💌 Le nouveau QG de <strong>Imadha</strong> & <strong>Nourishtou</strong> est :<br><br>
          <span style="font-size: 2em;">${vraiChoix}</span> 🥳<br><br>
          Décision romantique... temporaire 😉<br><br>
          <button class="btn" onclick="rejouer()">🔁 Rejouer</button>
        `;

        makeItRain("fleur");
      }, 2000);
    }

    function rejouer() {
      document.getElementById("choixFinal").classList.add("hidden");
      document.getElementById("questionnaire").classList.remove("hidden");
      document.getElementById("question1").classList.remove("hidden");
      document.getElementById("question2").classList.add("hidden");
      document.getElementById("question3").classList.add("hidden");

      const images = document.querySelectorAll('.paquet-img');
      images.forEach(img => {
        img.style.opacity = "1";
        img.style.pointerEvents = "auto";
        img.style.transform = "none";
      });
    }

    function makeItRain(type) {
      for (let i = 0; i < 12; i++) {
        const el = document.createElement("div");
        el.classList.add(
          type === "fleur" ? "fleur" :
          type === "framboise" ? "framboise" : "falling-heart"
        );
        el.style.left = Math.random() * window.innerWidth + "px";
        el.innerText = type === "heart"
          ? coeur[Math.floor(Math.random() * coeur.length)]
          : type === "framboise"
          ? framboises[0]
          : fleurs[Math.floor(Math.random() * fleurs.length)];
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 3000);
      }
    }
  </script>
</body>
</html>
